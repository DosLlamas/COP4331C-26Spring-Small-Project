<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Small Project â€“ COP 4331C Register</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="js/code.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mobile.css">
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function()
        {
            showContactsNavPage();
        }, false);

    </script>


</head>
<body>
<main>
    <div class="navbar">
        <div class="menu">
            <div class="pages">
                <a href="about.html">
                    About Us
                </a>
                <a href="settings.html">
                    Settings
                </a>
            </div>
        </div>
    </div>

    <h1 id="title">Contact Manager</h1>
    <div class="card">
        <div class="card-columns vertical">

            <h1 id="create-account">Create Account</h1>

            <!--REGISTER-->
            <form id="register-form">

                <label for="register-username">Username</label>
                <div class="input-container">
                    <input
                            id="register-username"
                            name="username"
                            placeholder="Username"
                            class="card-input"
                            autocapitalize="none"
                            spellcheck="false"
                            required
                    >
                    <img
                            id="register-error-img"
                        src="images/invalidField.png"
                        alt="Error"
                        style="display: none;"
                        >
                </div>

                <label for="register-password">Password</label>
                <input
                        type="password"
                        id="register-password"
                        name="password"
                        placeholder="Password"
                        class="card-input"
                        autocapitalize="none"
                        spellcheck="false"
                        required
                >
                <button type="submit" class="register-button">Create Account</button>
                <p id="register-message"></p>
            </form>

            <p id="have-account">
                Already have an account? <a href="index.html" class="login-button reg">
                Login!
            </a>
            </p>
        </div>
    </div>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function() {

        document.getElementById('register-error-img').style.display = 'hidden'; //hide error icon on load

        const registerForm = document.getElementById('register-form');
        if (registerForm) {
            registerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                doRegister();
            });
        }

        //on input remove error icon
        const usernameInput = document.getElementById('register-username');
        if (usernameInput) {
            usernameInput.addEventListener('input', function() {
                const icon = document.getElementById('register-error-img');
                if (icon) icon.style.display = 'none';
            });
        }

    });

</script>

</body>
</html>

